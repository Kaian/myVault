<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="assets/js/jquery-3.2.1.min.js"></script>
    <script src="assets/js/popper.min.js"></script>

    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <script src="assets/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="deps/editor.md/css/editormd.min.css">

    <script src="assets/js/myvault.js"></script>
    <link rel="stylesheet" href="assets/css/myvault.css">

    <title>My Vault</title>
  </head>

  <body>

    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <a class="navbar-brand" href="/">My Vault
          <i id="lock-icon" class="fa fa-lock" aria-hidden="true"></i>
      </a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
        </ul>

        <ul class="navbar-nav  my-2 my-lg-0">
          <li class="nav-item active">
            <a class="navbar-brand" href="#">
              <i id="lock-icon" class="fa fa-cog" aria-hidden="true" data-toggle="modal" data-target="#options-modal"></i>
            </a>
          </li>
          <li class="nav-item active">
            <a id="is_logged" class="nav-link" href="/login.html">Login</a>
          </li>
        </ul>
      </div>
    </nav>

    <div id="principal" class="container">
      <div class="row justify-content-center">

        <div class="col-md-3">
          <h2 class="form-signin-heading text-center">Log in</h2>

          <div id="log_error" class="alert alert-danger" role="alert" style="display:none"></div>



          <ul class="nav nav-tabs justify-content-center" id="loginTab" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" id="ldap-tab" data-toggle="tab" href="#ldap-tab-content" role="tab" aria-controls="ldap" aria-expanded="true">LDAP</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" id="token-tab" data-toggle="tab" href="#token-tab-content" role="tab" aria-controls="token">Token</a>
            </li>
          </ul>
          <div class="tab-content" id="login-tab-content">

                <div class="tab-pane fade show active" id="ldap-tab-content" role="tabpanel" aria-labelledby="ldap-tab">
                    <form id="login_form" action='javascript:login("ldap");' autocomplete="off">
                        <div class="form-group">
                          <label for="username" class="sr-only">username</label>
                          <input type="input" id="username" class="form-control" placeholder="Username" required autofocus>
                        </div>
                        <div class="form-group">
                          <label for="inputPassword" class="sr-only">Password</label>
                          <input type="password" id="password" class="form-control" placeholder="Password" required>
                        </div>

                        <button id="login" class="btn btn-lg btn-primary btn-block">Log in</button>
                    </form>
                </div>

                <div class="tab-pane fade" id="token-tab-content" role="tabpanel" aria-labelledby="token-tab">
                    <form id="login_form" action='javascript:login("token");' autocomplete="off">
                        <div class="form-group">
                          <label for="token" class="sr-only">token</label>
                          <input type="input" id="token" class="form-control" placeholder="token" required autofocus>
                        </div>
                        <button id="login" class="btn btn-lg btn-primary btn-block">Log in</button>
                    </form>
                </div>

          </div>

        </div>
      </div> <!-- .row -->
    </div> <!-- #principal -->

    <nav id="footer" class="navbar fixed-bottom navbar-expand navbar-dark  bg-dark ">
      <a class="navbar-brand" href="http://github.com/yuki">
          Made by Yuki</a>
    </nav>


    <!-- Modal -->
    <div class="modal fade" id="options-modal" tabindex="-1" role="dialog" aria-labelledby="options-modal" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Options</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
              <div class="form-group">
                <label for="input-vault-url">Vault server URL</label>
                <input type="input" id="vault-url-input" class="form-control" placeholder="https://myvault.com:8200/v1/">
              </div>
          </div>
          <div class="modal-footer">
            <button id="save_options" type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
    <!-- END Modal -->


    <script type="text/javascript">
        $("#vault-url-input").val(localStorage.getItem("ironvault-url"));
        is_logged();
        print_errors();
    </script>

  </body>
</html>
